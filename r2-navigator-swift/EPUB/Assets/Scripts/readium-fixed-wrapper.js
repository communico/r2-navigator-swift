readium.FixedPage=function(e){var t=null,n=null,i=null,o=document.getElementById(e);o.addEventListener("load",(function(){var e=o.contentWindow.document.querySelector("meta[name=viewport]");if(e){for(var n,i=/(\w+) *= *([^\s,]+)/g,r={};n=i.exec(e.content);)r[n[1]]=n[2];var l=Number.parseFloat(r.width),h=Number.parseFloat(r.height);l&&h&&(t={width:l,height:h},a())}}));var r=o.closest(".viewport");function a(){if(t&&n&&i){o.style.width=t.width+"px",o.style.height=t.height+"px",o.style.marginTop=i.top-i.bottom+"px",o.style.marginLeft=i.left-i.right+"px";var e=n.width/t.width,r=n.height/t.height,a=Math.min(e,r);document.querySelector("meta[name=viewport]").content="initial-scale="+a+", minimum-scale="+a}}return{isLoading:!1,href:null,load:function(e,t){if(e.href&&e.url){var n=this;n.href=e.href,n.isLoading=!0,o.addEventListener("load",(function e(){o.removeEventListener("load",e),o.contentWindow.requestAnimationFrame((function(){n.isLoading=!1,t&&t()}))})),o.src=e.url}else t&&t()},reset:function(){this.href&&(this.href=null,t=null,o.src="about:blank")},eval:function(e){if(this.href&&!this.isLoading)return o.contentWindow.eval(e)},setViewport:function(e,t){n=e,i=t,a()},show:function(){r.style.display="block"},hide:function(){r.style.display="none"}}};
//# sourceMappingURL=readium-fixed-wrapper.js.map